<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="themes/Normal.css">
    <script src="js/jquery.min.js"></script>
    <link rel="stylesheet" href="css/fstdropdown.css">
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="ace/ace.js"></script>
    <script src="ace/ext-language_tools.js"></script>
    <script src="js/fstdropdown.js"></script>
    <script src="js/FileSaver.min.js"></script>
    <script src="ace/ext/beautify_test.js"></script>
    <script src="ace/ext-beautify.js"></script>
    <script src="ace/mode-html.js"></script>
    <script src="ace/mode-javascript.js"></script>
    <script src="ace/mode-css.js"></script>
</head>

<body>

    <!-----------------------all body field--------------------------->
    <div id="all">
        <!------------------top field------------------------------>
        <div id="top1" draggable="false">


            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">File </a>
                <ul class="dropdown-menu" role="menu">
                    <li onClick="showModal()"><a href="#">Open</a></li>
                    <li><a href="#" onclick="saveTextAsFile()">Save</a></li>
                    <li class="divider"></li>
                    <li id="newfileftt"><a href="#">Exit</a></li>
                </ul>
            </li>
            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">Edit </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a id="undo" href="#">Undo  ctrl+z</a></li>
                    <li><a id="redo" href="#">Redo  ctrl+y</a></li>
           
                </ul>
            </li>
            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">Find </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a id="findtxt" href="#">Find</a></li>
                    <li class="divider"></li>
                    <li><a id="replacetxt" href="#">Replace</a></li>
                </ul>
            </li>

            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">View </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="#">Themes</a></li>
                    <li><a href="#">Font</a></li>
                    <li><a href="#">Style</a></li>
                </ul>
            </li>

            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">Run </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="#" data-toggle="modal" data-target="#myModal">Run</a></li>
                </ul>
            </li>
            <li class="maxtro">
                <a style="list-style-type: none;text-decoration: none;color: white;" href="" data-toggle="dropdown">About </a>
                <ul class="dropdown-menu" role="menu">
                    <li><a href="#">About</a></li>
                    <li><a href="#">License</a></li>
                    <li><a href="#">How to use</a></li>
                    <li><a href="#">Examples</a></li>
                </ul>
            </li>

        </div>
        <!-----------------------/top fiels------------------------->

        <!------------------------left field------------------------>
        <div id="left1" draggable="false">
            <!-- Button trigger modal -->

            <select class="fstdropdown-select" id="example">

                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="javascript">Javascript</option>
                <option value="aql">AQL</option>
                <option value="asl">ASL</option>
                <option value="batchfile">Batchfile</option>
                <option value="c_cpp">C</option>
                <option value="clojure">Clojure</option>
                <option value="cobol">Cobol</option>
                <option value="csharp">C-Sharp</option>
                <option value="curly">Curly</option>
                <option value="fortran">Fortran</option>
                <option value="fsharp">F-Sharp</option>
                <option value="groovy">Groovy</option>
                <option value="haml">HAML</option>
                <option value="hjson">Hjson</option>
                <option value="java">Java</option>
                <option value="json">Json</option>
                <option value="kotlin">Kotlin</option>
                <option value="pascal">Pascal</option>
                <option value="perl">Perl</option>
                <option value="php">php</option>
                <option value="python">Python</option>
                <option value="ruby">Ruby</option>
                <option value="scss">SCSS</option>
                <option value="sql">SQL</option>
                <option value="mysql">MYSQL</option>
                <option value="sqlserver">SQL-Server</option>
                <option value="svg">SVG</option>
                <option value="vbscript">VB-Script</option>
                <option value="xml">XML</option>
                <option value="yaml">YAML</option>
                <option value="rhtml">RHTML</option>
            </select>

<textarea class="col-md-6" name="content" id="content"  disabled="disabled" style="visibility: hidden;"></textarea>
<script>



    var data = document.getElementById("content");
    function saveTextAsFile(){
        var blob = new Blob ([data.value], {type: "html/plain;charset=utf-8"});
        saveAs(blob, "index.html");
    }
</script>




            <input  type="file" id="file-input" class="open" style="visibility: hidden;" />
<script>
    function showModal(){
        document.getElementById('file-input').click();
    }
</script>

            <div id="file-content" style="display: none;"></div>


        </div>

        <!------------------------/left field----------------------->


        <!------------------------right field---------------------->

        <div id="right1">
            <div id="editor"></div>
        </div>

        <!------------------------/right field--------------------->


        <!-- Modal -->





    </div>




    <!-------------------------/all body field--------------------------->



    <!--------------Began result popup------------------->

    <div style="overflow: visible;" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div style="cursor: move" class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Result</h4>
                </div>
                <div class="modal-body">
                    <iframe width="100%" height="90%" id="iframe" frameborder="0"> </iframe>
                </div>
            </div>
        </div>
    </div>

    <!-----------end popup----------------->


    <!------------------------Script field---------------------------->


    <!--------------resize script-------------------->
    <script>
        $('.modal-content').resizable({
            //alsoResize: ".modal-dialog",
            minHeight: 300,
            minWidth: 300
        });
        $('.modal-dialog').draggable();

        $('#myModal').on('show.bs.modal', function() {
            $(this).find('.modal-body').css({
                'max-height': '90%'
            });
        });
    </script>




    <!------------ resize script end------------------------>
<script>

            
var undoButton = document.getElementById("undo");
var redoButton = document.getElementById("redo");
var findButton = document.getElementById("findtxt");
var replaceButton = document.getElementById("replacetxt");


            </script>


    <script>
        function setupEditor() {
            window.editor = ace.edit("editor");


        undoButton.onclick = function (e) {
    editor.getSession().getUndoManager().undo(false);
};
redoButton.onclick = function (e) {
    editor.getSession().getUndoManager().redo(false);
}; 
findButton.onclick = function (e){
    editor.execCommand('find');
}  
replaceButton.onclick = function (e){
    editor.execCommand('replace');
}  

}
        setupEditor();
    </script>
    
    
    

    
    
    

    <script>
        function setupEditor() {
            window.editor = ace.edit("editor");



            setInterval(function() {
                editor.getSession().setMode("ace/mode/" + document.getElementById("example").value);
            }, 1000);



        }
        setupEditor();
    </script>
   
    <script>
        function setupEditor() {
            var textarea = $('#content');
            window.editor = ace.edit("editor");

            editor.getSession().on('change', function() {
                textarea.val(editor.getSession().getValue());
            });

            textarea.val(editor.getSession().getValue());


        }
        setupEditor();
    </script>





    <!------------------ace script began -------------------------------->
    <script type="text/javascript">
        window.onload = function() {
            

            

            function update() {
                var idoc = document.getElementById('iframe').contentWindow.document;

                idoc.open();
                idoc.write(editor.getValue());
                idoc.close();
            }

            function setupEditor() {
                ace.require("ace/ext/language_tools");
                window.editor = ace.edit("editor");
                editor.setTheme("ace/theme/ambiance");
            
             


                editor.getSession().on('change', function() {
                    update();
                });

                editor.focus();


                editor.setOptions({

                    showLineNumbers: true,
                    showGutter: true,
                    enableBasicAutocompletion: true,
                    enableLiveAutocompletion: true,
                    enableSnippets: true,
                    autoScrollEditorIntoView: true,
                    copyWithEmptySelection: true
                });

                editor.setShowPrintMargin(false);
                editor.setBehavioursEnabled(true);
            }

            setupEditor();
            update();


        }
    </script>
    
    <!-------------------needed files------------->
    


    <!-----------------/needed files-------------->

    <textarea style="visibility: hidden;" name="content" id="content" disabled="disabled"></textarea>
    <!------------------------ace script end-------------------------->

    <!------------------------/Script field---------------------------->

<script>
    

    
            function setupEditor() {
            window.editor = ace.edit("editor");
                   
                         
              function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.
    var reader = new FileReader();  
    reader.onload = function(event) { 
        
        editor.session.doc.setValue(event.target.result);

     
    }        
    reader.readAsText(files[0],"UTF-8");
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('all');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);

        }
        setupEditor();
    
    </script>
    
    
        <script>
   
 function setupEditor() {
            window.editor = ace.edit("editor");
                   
        function readSingleFile(e) {
            var file = e.target.files[0];
            if (!file) {
                return;
            }
            var reader = new FileReader();
            reader.onload = function(e) {
                var contents = e.target.result;
                displayContents(contents);
            };
            reader.readAsText(file);
        }

        function displayContents(contents) {
            editor.session.doc.setValue(contents);
        }

        document.getElementById('file-input')
            .addEventListener('change', readSingleFile, false);

 }
        setupEditor();

    </script>
    


</body>

</html>